(function(){const a=window.prompt("Share with 'followers' or 'party'","followers"),b=document.createElement("div"),c="party"===a?"green":"red";b.style.cssText=`position: fixed; top: 0px; left: 0px; z-index: 9999; color: white; background: ${c}; padding: 2px`,document.body.appendChild(b);const d=document.querySelectorAll(".share").length?{loadingIndicatorId:"#infinite-scroll",inventoryTagClass:".inventory-tag",shareButtonClass:".share",shareModalId:"#share-popup",followerShareClass:`.pm-${a}-share-link`}:{loadingIndicatorId:"#infinite-scroll",inventoryTagClass:".tile__inventory-tag",shareButtonClass:".social-action-bar__share",shareModalId:".share-modal",followerShareClass:`[data-et-name=share_poshmark${"party"===a?"_poshparty":""}]`},e=()=>document.body.offsetHeight,f=()=>{b.innerText="Scrolling...",window.scrollTo(0,e())},g=()=>document.querySelectorAll(".tile"),h=()=>{const a=g();return Array.prototype.filter.call(a,a=>null===a.querySelector(d.inventoryTagClass))},i=a=>a.querySelector(d.shareButtonClass),j=async a=>{for(;null===document.querySelector(a);)await new Promise(a=>requestAnimationFrame(a));return document.querySelector(a)},k=()=>{b.innerText="Starting to share items.";const a=h();let c=0;const e=async()=>{var f=Math.floor;b.innerText=`Item ${c+1} of ${a.length}, sharing...`;const g=a[c];c+=1;const h=i(g);h.click(),await j(d.shareModalId);const k=await j(d.followerShareClass);if(k.click(),c<a.length){const d=f(Math.random()*f(4))+1;window.setTimeout(e,1e3*d),b.innerText=`Item ${c} of ${a.length}, shared, waiting...`}else window.alert("All Done Meri Jaan! I love you!"),b.remove()};e()},l=()=>!!document.querySelector(d.loadingIndicatorId)?.offsetParent;let m;const n=window.setInterval(()=>{if(!l()){b.innerText="Checking Height...";const a=e();a===m?(window.clearInterval(n),k()):(m=a,f())}},1e3)})();
